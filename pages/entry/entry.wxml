
<!-- 做模板了 -->


<!-- 头部信息 -->
<view class="container1">
    <view style="background-image:url({{diary.meta.cover}});height:400rpx;">
        <!-- 顶部工具栏 -->
        <view class="toolbar">
             <image class="item" mode="aspectFill" wx:for="{{toolbar}}" src="{{item}}"></image> 
        </view>
        <!-- meta信息区 -->
        <view class="title">
            <image class="avatar" mode="aspectFill" src="{{diary.meta.avatar}}"></image>
            <view class="desc">
                <view class="item1">{{diary.meta.title}}</view>
                <view class="item1">{{diary.meta.meta}}</view>
            </view>
        </view>
    </view>
</view>
<!-- 正文内容 -->
<view wx:for="{{diary.list}}" wx:for-item="{{content}}" class="content">
    <view>{{content.type}}</view>
    <template is="content-item" data="{{content}}"></template>
</view>

<!-- 单条内容缩略 -->
<template name="content-item">
    <block wx:if="{{content.type == 'TEXT'}}">
        <view style="margin-top:30rpx;">  
            <text wx:if="{{content.type == 'TEXT'}}" class="text">
                {{content.content}}
            </text>
        </view>
    </block>
    <block  wx:if="{{content.type == 'IMAGE'}}">
        <image class="media" mode="aspectFill" src="{{content.content}}" bindtap="enterPreviewMode" data-src="{{content.content}}"></image>
        <view style="margin-top:10rpx;">{{content.description}}</view>
    </block>
    <block wx:if="{{content.type == 'VIDEO'}}">
        <video class="media" src="{{content.content}}"></video>
        <view style="margin-top:10rpx;">{{content.description}}</view>
    </block>
</template>






